# Business-APIs

## Modelo de datos

![Modelo de datos Ventas](https://github.com/SczSca/Business-APIs/assets/90069772/cd5474c2-7c9a-4551-91ac-492839b8a69f)
 <p align="center">
    <a href="#readme-es">Español</a>
    ·
    <a href="#readme-en">English</a>
</p>
  <a name="readme-en"></a>


  ### Tiendas "Shops"
  Stores data of n shops, each shop has n clients and products.
### Productos "Products"
 Stores data of n products, each product is assing to an specific shop.
   #### Related Views
  * [vw_detTickets_productos]
  * [vw_detTickets_productos_temp]
  * [vw_reporte_ventas_productos]
###  Clientes "Clients"
  Stores data of n clients. Each client is assign to an specific shop and has n tickets.
  #### Views relacionados
  * [vw_ticket_cliente]
  * [vw_abonos_ticket]
### Tickets
  Stores data of Tickets, which were generated by one client. Each ticket has n products (Detalles_ticket "Details_ticket") and each ticket has n credits (The amount of credits assigned to a ticket would depends on the bussiness logic)
  #### Related Views
  * [vw_ticket_cliente]
  * [vw_abonos_ticket]
  * [vw_detTickets_productos]
  #### Related Triggers
  * [Update_ticketEstado]
### Detalles_ticket "Details_ticket"
  Stores data of products billed on a ticket. Each product is assigned to an especific ticket.
  #### Related Views
  * [vw_detTickets_productos]
#### Related Triggers 
  * [Delete_ticketTotal]
  * [Insert_detalleTicketPrecio]
  * [Update_detalleTicketPrecio]
  * [Update_ticketTotal]
  * [Insert_ticketTotal]
### Tickets_temp
  Stores data of n temporal tickets, which works as a shopping cart. There is only one temporal ticket/shopping cart assigned to a client.
  #### Views relacionados
  * [vw_detTickets_productos_temp]
### Detalles_ticket_temp "Details_ticket_temp"
  Stores data of the products billed on the temporal ticket/shopping cart. Each product is billed on a temporal ticket/shopping cart.
  #### Related Views
  * [vw_detTickets_productos_temp]
  #### Related Triggers
  * [Delete_productoCantidadCarrito]
  * [Delete_ticketTotalTemp]
  * [Insert_detalleTicketPrecioTemp]
  * [Insert_productoCantidadCarrito]
  * [Update_detalleTicketPrecioTemp]
  * [Update_productoCantidadCarrito]
  * [Update_ticketTotalTemp]
  * [Insert_ticketTotalTemp]
  
### Abonos "Bills"
  Stores data of a bill related to a ticket.
  #### Related Views
  * [vw_abonos_ticket]
  #### Related Triggers
  * [Update_ticketCredito]

### Stored Procedures
  * [ AbonosOtrosPlazos( f_inicioParam, condicionales, fk_tiendaParam ) ]
    ( Get ) Gets and returns data of all bills done that are not within the specified period. Used in API report.
  * [ ReporteVentasProductos( f_inicioParam, f_finalParam, id_tiendaParam ) ]
    ( Get ) Gets and returns data of billed products on the specified tickets. Used on reportes API.
  * [ TicketsConjuntoDeIds( condicional, id_tiendaParam) ]
    ( Get ) encargado de obtener los datos de los tickets que estan relacionados con los abonos del plazo especificado. Utilizado en la api de reportes. Gets and returns data of the tickets that are related to the bills that are within the specified period.
  * [ TraspasarCarrito( id_clienteParam, id_ticketParam, id_tiendaParam) ]
    Moves the data from ticket_temp and details_ticket_temp to a new ticket and details_ticket and deletes the data from the temporal ticket/shopping cart. Used on tickets_temp API.

  <a name="readme-es"></a>
  
### Tiendas
  Permite almacenar los datos de n tiendas, donde cada tienda tiene n clientes y n productos.
### Productos
  Permite almacenar los datos de n productos, donde cada producto está asignado a una sola tienda.
   #### Views relacionados
  * [vw_detTickets_productos]
  * [vw_detTickets_productos_temp]
  * [vw_reporte_ventas_productos]
###  Clientes
  Permite almacenar los datos de n clientes, donde cada cliente está asignado especificamente a una tienda.
  #### Views relacionados
  * [vw_ticket_cliente]
  * [vw_abonos_ticket]
### Tickets
  Permite almacenar los datos de Tickets generados por un cliente, donde cada cliente puede tener n tickets, cada ticket puede tener varios registros de detalles_ticket y cada ticket puede tener n abonos ( la cantidad dependerá de la lógica de negocios).
  #### Views relacionados
  * [vw_ticket_cliente]
  * [vw_abonos_ticket]
  * [vw_detTickets_productos]
  #### Triggers relacionados
  * [Update_ticketEstado]
### Detalles_ticket
  Permite almacenar datos de los productos facturados de un ticket, donde cada producto esta relacionado a un ticket en especifico.
  #### Views relacionados
  * [vw_detTickets_productos]
#### Triggers relacionados
  * [Delete_ticketTotal]
  * [Insert_detalleTicketPrecio]
  * [Update_detalleTicketPrecio]
  * [Update_ticketTotal]
  * [Insert_ticketTotal]
### Tickets_temp
  Permite almacenar los datos de los productos del carrito de compras, donde cada cliente puede tener un solo ticket/carrito de compras y cada ticket temporal/carrito de compras puede tener varios registros de detalles_ticket_temp.
  #### Views relacionados
  * [vw_detTickets_productos_temp]
### Detalles_ticket_temp
  Permite almacenar datos de los productos guardados en un ticket temporal/carrito de compras, donde cada producto esta relacionado a un ticket temporal/carrito de compras.
  #### Views relacionados
  * [vw_detTickets_productos_temp]
  #### Triggers relacionados
  * [Delete_productoCantidadCarrito]
  * [Delete_ticketTotalTemp]
  * [Insert_detalleTicketPrecioTemp]
  * [Insert_productoCantidadCarrito]
  * [Update_detalleTicketPrecioTemp]
  * [Update_productoCantidadCarrito]
  * [Update_ticketTotalTemp]
  * [Insert_ticketTotalTemp]
  
### Abonos
  Permite almacenar los datos sobre el pago/abono de un ticket
  #### Views relacionados
  * [vw_abonos_ticket]
  #### Triggers relacionados
  * [Update_ticketCredito]

### Procedimientos Almacenados
  * [ AbonosOtrosPlazos( f_inicioParam, condicionales, fk_tiendaParam ) ]
    ( Lectura ) encargado de obtener y retornar todos los otros abonos realizados en otro tiempo que no se encuentra dentro del plazo especificado. Utilizado en la api de reportes
  * [ ReporteVentasProductos( f_inicioParam, f_finalParam, id_tiendaParam ) ]
    ( Lectura ) encargado de obtener los datos de los productos facturados en los tickets del plazo especificado. Utilizado en la api de reportes
  * [ TicketsConjuntoDeIds( condicional, id_tiendaParam) ]
    ( Lectura ) encargado de obtener los datos de los tickets que estan relacionados con los abonos del plazo especificado. Utilizado en la api de reportes.
  * [ TraspasarCarrito( id_clienteParam, id_ticketParam, id_tiendaParam) ]
    Pasa los datos de ticket_temp y detalles_ticket_temp a un nuevo ticket y detalles_ticket_temp y elimina los registros en las tablas temporales/carrito de compras. Utilizado en la api de tickets_temp.
